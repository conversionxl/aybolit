// Rudder Stack Telemetry Plugin v8.1.0 Wed May 11 2022 02:20:30 GMT+1000 (Australian Eastern Standard Time)
!function(){"use strict";const e=new WeakMap;class t extends class{constructor(){e.set(this,{})}on(t,n){const a=e.get(this);return a[t]||(a[t]=[]),a[t].push(n),this}once(e,t){const n=(...a)=>{this.off(e,n),t(...a)};return this.on(e,n),this}off(t,n){const a=e.get(this)[t];return a&&(null===n?a.length=0:a.splice(a.indexOf(n),1)),this}listeners(t){try{return e.get(this)[t]}catch(e){return null}}emit(t,...n){const a=e.get(this)[t];return a&&a.length?(a.forEach((e=>{e({type:t,target:this},...n)})),!0):this}emitAsync(t,...n){const a=e.get(this)[t],s=[];return a&&a.length&&a.forEach((e=>{s.push(e({type:t,target:this},...n))})),Promise.all(s)}}{constructor(e){super();const t=e.rudderStackVer||"1.1",n={dataPlaneUrl:`https://${e.dataPlane}.dataplane.rudderstack.com`,rudderStackUrl:`https://cdn.rudderlabs.com/v${t}/rudder-analytics.min.js`,logLevel:"WARN",enableOneTrust:!1,enableBeacon:!1};this.config=Object.assign({},n,e),this._data={},this.payload={user_actual_id:e.user.userId,page_url:location.href}}set payload(e){this._data=Object.assign(this._data,this.config.data,e)}init(){window.rudderanalytics?this.setup():class{static load(e){return new Promise((function(t,n){const a=document.createElement("script");a.onload=function(e){t()},a.onerror=function(e){n(e)},a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||t()},document.getElementsByTagName("head")[0].appendChild(a),a.src=e}))}}.load(this.config.rudderStackUrl).then((()=>{this.setup()})).catch((()=>{}))}setup(){rudderanalytics.load(this.config.writeKey,this.config.dataPlaneUrl,{logLevel:this.config.logLevel,cookieConsentManager:{oneTrust:{enabled:this.config.enableOneTrust}},useBeacon:this.config.enableBeacon}),rudderanalytics.ready((()=>{this.emit("ready")}))}identifyUser(){rudderanalytics.identify(this.config.user.userId,this.config.user,this._data,(()=>{this.emit("identify",this.config.user)}))}track(e,t){let n=this._data;t&&(n=Object.assign({},this._data,t)),console.log("Data",n),rudderanalytics.track(e,n,(()=>{this.emit("track",e)}))}}(window.jwplayerPluginJsonp||window.jwplayer().registerPlugin)("telemetry","8.0",(function(e,n,a){const s=e._,r={rudderStackVer:"1.1",dataPlane:"electroteqqbxi",writeKey:"28voXePCSsOuNNyHIFuaBcsaO2J",logLevel:"WARN",enableOneTrust:!1,enableBeacon:!1,timePlayedInterval:1e4,user:{userId:0,email:n.email},data:{}};try{s.extend(r,n),s.extend(r.user,n.user);const i=e.getConfig();let o,c=r.timePlayedInterval/1e3,l=0;const d=new t(r);function u(){window.onbeforeunload=()=>{/playing|paused/.test(e.getState())&&g()},e.on("meta",(()=>{const t=e.getPlaylistItem();d.payload={media_id:t.mediaId||i.mediaId},l=0})).on("play",(()=>{y("play"),o=setInterval(g,r.timePlayedInterval)})).on("pause",(()=>{y("pause"),clearInterval(o)})).on("seek",(e=>{h(e),clearInterval(o)})).on("complete",(()=>{y("complete"),clearInterval(o)})).on("error",(()=>{y("error"),clearInterval(o)})).on("time",((e,t)=>{}))}function h(e){y("seek",{current_time:e.currentTime,seek_time:e.offset,duration:e.duration})}function g(){l+=c,y("played_time",{played_time:l})}function y(e,t){d.track(e,t)}d.on("identify",(()=>{})).on("ready",u).on("track",((e,t)=>{console.log("Tracked event ",t)})),d.init()}catch(f){console.log("test",f)}}))}();
