@use "mixins";

html {
  // Variables.
  --cxl-content-width: 36em;
  --cxl-wrap-width: 72rem;
  --cxl-wrap-padding: var(--lumo-space-m);

  /**
   * Shadow.
   *
   * @see https://cdn.vaadin.com/vaadin-lumo-styles/1.5.0/demo/styles.html#shadow
   * @see https://sass-lang.com/documentation/style-rules/declarations#custom-properties
   */
  $cxl-box-shadow-width: var(--cxl-box-shadow-width, 1px);
  $cxl-box-shadow-color: var(--cxl-box-shadow-color, var(--lumo-shade-10pct));

  --cxl-box-shadow: #{$cxl-box-shadow-width} 0 0 0 #{$cxl-box-shadow-color},
    0 #{$cxl-box-shadow-width} 0 0 #{$cxl-box-shadow-color},
    #{$cxl-box-shadow-width} #{$cxl-box-shadow-width} 0 0 #{$cxl-box-shadow-color},
    #{$cxl-box-shadow-width} 0 0 0 #{$cxl-box-shadow-color} inset,
    0 #{$cxl-box-shadow-width} 0 0 #{$cxl-box-shadow-color} inset;

  // cxl-marketing-nav height on desktop
  --cxl-marketing-nav-height: 88px;
}

// @see https://github.com/conversionxl/aybolit/blob/490e58e71f13c2e8a398959f91b938f9309b41f8/packages/cxl-ui/src/components/cxl-marketing-nav.js#L46
@media (max-width: 749px) {
  html {
    --cxl-marketing-nav-height: 44px;
  }
}

// @see https://github.com/necolas/normalize.css/blob/8.0.1/normalize.css#L20
body {
  margin: 0;
}

/**
 * Add some top padding to the page content (body element) to prevent sudden quick movement.
 *
 * @see https://web.dev/optimize-cls/
 */
.cxl-marketing-nav-sticky {
  min-height: calc(100vh - var(--cxl-marketing-nav-height));
  padding-top: var(--cxl-marketing-nav-height);
}

a {
  color: var(--lumo-primary-color);

  // Avoid visual overload.
  text-decoration: none;

  // Only when navigable.
  &[href]:hover {
    text-decoration: underline;
  }

  // Icon alignment.
  iron-icon + & {
    vertical-align: middle;
  }
}

a[target="_blank"]:any-link::after {
  padding-left: 0.25rem;
  font-family: vaadin-icons;
  content: var(--vaadin-icons-external-link);
}

// Heading highlights w/ formatting (strikethrough etc) support.
b,
strong {
  h1 &,
  h2 &,
  h3 & {
    color: var(--lumo-primary-color);
  }
}

code,
pre {
  overflow-x: scroll;
}

img {
  max-width: 100%;
  height: auto;
}

ol,
ul {
  padding-left: var(--lumo-space-l);
}

/**
 * headroom.js
 */
.headroom {
  top: var(--wp-admin--admin-bar--height, 0);
  transition: transform 200ms linear;

  &--pinned {
    transform: translateY(0%);
  }
}

/**
 * As WP Admin Bar is hidden at this breakpoint,
 * so no need to adjust top.
 *
 * @since 2022.10.14
 * @see https://github.com/conversionxl/wp-theme-lib/blob/74e2231e39ded2e65eddabfb70615b2696ca2510/scss/legacy/_15-mixins.scss#L81
 */
@media screen and (max-width: 782px) {
  .headroom {
    --wp-admin--admin-bar--height: 0;
  }
}

/**
 * Classes.
 */
// @see https://tailwindcss.com/docs/font-weight/
// @todo Integrate tailwindcss.
.font-light {
  font-weight: 300;
}

.thumbnail {
  --cxl-thumbnail-size: calc(var(--lumo-icon-size-l) * 3);
  width: var(--cxl-thumbnail-size);
  height: var(--cxl-thumbnail-size);
  border-radius: 50%;
}

.wrap {
  @include mixins.wrap();
}

// Center align the `<iron-icon>` wrapped in `<vaadin-button>`
vaadin-notification-card vaadin-button[theme~="icon"]:not([theme~="tertiary-inline"]) {
  flex: none;
}
