@use "../mq";

// Perfectly align modal in the center of the screen.
:host([theme~="cxl-marketing-nav"][phone]) [part="overlay"] {
  top: 0;
  bottom: 0;
  margin-top: auto;
  margin-bottom: auto;
}

// Reduce visual noise below overlay.
:host([theme~="cxl-marketing-nav"]) [part="backdrop"] {
  $vaadin-overlay-shade-pct: 20;

  background-color: var(--lumo-shade-#{$vaadin-overlay-shade-pct * 3.5}#{"pct"});
}

// Theme: cxl-course-dialog
:host([theme="cxl-course-dialog"]) {
  [part="backdrop"] {
    background-color: var(--cxl-color-black-50pct);
  }

  [part="overlay"] {
    width: 100%;
    max-width: var(--cxl-content-max-width);
  }

  [part="content"] {
    padding: var(--lumo-space-m) var(--lumo-space-m) 0 var(--lumo-space-m);

    @media #{mq.$small} {
      padding: var(--lumo-space-l) var(--lumo-space-l) 0 var(--lumo-space-l);
    }
  }

  [part="footer"] {
    background-color: unset;
    box-shadow: var(--lumo-box-shadow-m);

    @media #{mq.$small} {
      gap: var(--lumo-space-m);
      padding-right: var(--lumo-space-l);
    }
  }
}

:host([theme~="cxl-marketing-nav"]) [part="content"] {
  padding-right: 0;
  padding-left: 0;
}

@media (min-width: 768px), (min-height: 768px) and (orientation: landscape) {
  :host([theme~="cxl-marketing-nav"]) {
    position: relative;
    top: 0 !important; /* stylelint-disable-line declaration-no-important */
    right: 0;
    bottom: 0;
    left: 0 !important; /* stylelint-disable-line declaration-no-important */
    align-items: unset !important; /* stylelint-disable-line declaration-no-important */
    justify-content: unset !important; /* stylelint-disable-line declaration-no-important */
    width: 376px;
    margin: 0;
    overflow: auto;
    visibility: hidden;
    opacity: 0; // hide while in the body, to avoid flickering render, show after being moved to the overlays-wrapper element
    transition: opacity 0.1s;
  }

  :host([theme~="cxl-marketing-nav"]) [part="content"] {
    padding: 0;
  }

  :host([theme~="cxl-marketing-nav"]) [part="overlay"] {
    box-shadow: none;
  }

  :host([theme~="cxl-marketing-nav"]) [part="backdrop"] {
    display: none;
  }
}

:host([theme~="cxl-navigation"]) {
  &::part(overlay),
  &::part(content) {
    height: calc(100vh - 40px);
    max-height: calc(100vh - 40px);
  }

  &::part(backdrop) {
    display: none;
  }

  @media (min-width: 568px) and (min-height: 568px) {
    &::part(overlay),
    &::part(content) {
      height: initial;
      max-height: initial;
    }
  }

  &::part(overlay) {
    box-shadow: 0 0 0 1px var(--lumo-shade-5pct), 0 2px 6px -1px var(--lumo-shade-5pct),
      0 8px 24px -4px var(--lumo-shade-5pct);
  }
}
